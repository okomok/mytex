\documentclass{article}
\usepackage{strd,cat,my}
\usepackage[active,tightpage]{preview}

\begin{document}


\tikzset{strd semicircle left/.style={
    trapezium
    ,trapezium stretches body=true
    ,trapezium left angle=45
    ,trapezium right angle=0
    ,minimum size=4pt}}
\tikzset{strd semicircle right/.style={strd twincellright,minimum size=4pt}}

% Signature
\In{preview,math,aligned}{
    \myitem &
    \strdgathered{
        \strdfork{
            \strdyscale{1}\strdmid
            ,\strdcell{?}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{
            \strdtubemid
        }
        ,\strdat{Left}{\strdoverlabel{F}}
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    } \mydefeq
    \Lambda_X\Lambda_f
    \strdgathered{
        \strdfork{
            \strdyscale{1}\strdmid,\strdrlabel{X}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube\strdtubemid
        ,\strdat{Left}{\strdoverlabel{F}}
        ,\strdframearound
        ,\strdbox{1.2}{1.2}{
            \strdmid
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        },\strdat{Left}{\strdcellof{strd overlabel,font=\normalsize}{\tau}}
    }
}

% naturality
\In{preview,math,aligned}{
    \myitem &
    \strdgathered{
        \strdfork{
            \strdyscale{1}\strdmid,\strdrlabel{X\myprime}
            ,\strdcell{h}
            ,\strdmid,\strdrlabel{X}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{\strdyscale{2}\strdtubemid}
        ,\strdat{Left}{\strdoverlabel{F}}
        ,\strdframearound
        ,\strdbox{1.2}{1.2}{
            \strdmid
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        },\strdat{Left}{\strdcellof{strd overlabel,font=\normalsize}{\tau}}
    } =
    \strdgathered{
        \strdfork{
            \strdyscale{1}\strdmid,\strdrlabel{X\myprime}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube\strdtubemid
        ,\strdat{Left}{\strdoverlabel{F}}
        ,\strdframearound
        ,\strdbox{1.2}{1.2}{
            \strdmid
            ,\strdcell{h}
            ,\strdmid,\strdrlabel{X}
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        },\strdat{Left}{\strdcellof{strd overlabel,font=\normalsize}{\tau}}
    }
}

% Yoneda bijection
\In{preview,math,aligned}{
    \myitem & \varphi : \operatorname{Nat} _ X (\operatorname{Hom}(A,X),FX) \cong FA \\
    \myitem &
    \strdgathered{
        \strdfork{
            \strdyscale{1}\strdmid
            ,\strdcell{?}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{
            \strdtubemid
        }
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    } \overset{\varphi}{\mapsto}
    \strdgathered{
        \strdfork{
            \strdmid
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{\strdtubemid}
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    } \\
    \myitem &
    \strdgathered{
        \strdfork{
            \strdmid
            ,\strdcell{?}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{
            \strdtubemid
            ,\strdtubemid
        }
        ,\strdwidecell{1}{1}{a}
    } \mymapsfrom
    \strdgathered{
        \strdfork{
            \strdmid
            ,\strdrlabel{A}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube\strdtubemid
        ,\strdwidecell{1}{1}{a}
    }
}

% bijectivity
\In{preview,math,aligned}{
    \myitem&
    \strdgathered{
        \strdfork{
            \strdyscale{1.5}\strdmid
            ,\strdat{Mid}{\strdcell{?}}
            ,\strdmid
        }
        ,\strdtubestart,\strdtubebound
        ,\strdtube{\strdyscale{1.5}\strdtubemid}
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    } =
    \strdgathered{
        \strdfork{
            \strdmid
            ,\strdcell{?}
            ,\strdmid
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{
            \strdtubemid
        }
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    } \\
    \myitem &
    \strdgathered{
        \strdfork{
            \strdyscale{1.5}\strdmid
            ,\strdat{Mid}{\strdcell{?}}
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{\strdyscale{1.5}\strdtubemid}
        ,\strdwidecell{1}{1}{a}
    } \overset{\varphi}{\mapsto}
    \strdgathered{
        \strdfork{
            \strdmid
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube\strdtubemid
        ,\strdwidecell{1}{1}{a}
    }
}

% naturality in A
\In{preview,math,aligned}{
    \myitem&
    \strdgathered{
        \strdfork{
            \strdmid
            ,\strdcell{h}
            ,\strdmid
        }
        ,\strdtubestart
        ,\strdtubebound
        ,\strdtube{
            \strdtubemid
        }
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    } = 
    \strdgathered{
        \strdfork{
            \strdyscale{1.5}\strdmid
            ,\strdat{Mid}{\strdcell{h}}
            ,\strdmid
        }
        ,\strdtubestart,\strdtubebound
        ,\strdtube{\strdyscale{1.5}\strdtubemid}
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    }
}

% naturality in F
\In{preview,math,aligned}{
    \myitem&
    \strdgathered{
        \strdfork{
            \strdyscale{1.5}\strdmid
            ,\strdmid
            ,\strdat{Start}{\strdcell{?}}
        }
        ,\strdtubestart,\strdtubebound
        ,\strdtube{\strdyscale{1.5}\strdtubemid}
        ,\strdtubeat{Mid}{\strdtwincell{\sigma}}
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    } \overset{\varphi}{\mapsto}
    \strdgathered{
        \strdfork{
            \strdyscale{1.5}\strdmid
            ,\strdmid
        }
        ,\strdtubestart,\strdtubebound
        ,\strdtube{\strdyscale{1.5}\strdtubemid}
        ,\strdtubeat{Mid}{\strdtwincell{\sigma}}
        ,\strdtwincell{\tau}
        ,\strdscope{strd frame}{
            \strdxscale{0.7}{
                \strdsymlr\strdlcorner
                ,\strdsymlr\strdunlcorner
            }
        }
        ,\strdtubeboundof{strd frame}
    }
}

    
\end{document}
