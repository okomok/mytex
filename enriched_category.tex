\documentclass[]{article}
\usepackage{amsmath,mathtools}
\usepackage{tikz,strd}

\begin{document}

% associativity
\strdpreview{
    \newcommand{\mymult}{
        \strdline{\strdorigin}{ad}
        \strdleft{ad}{ac}
        \strdright{ad}{cd}
        \strdline{cd}{cd2}
        \strdleft{ac}{ab}
        \strdright{ac}{bc}
        \strdstartlabel{ad}{\mathcal{A}}
        \strdhomobjlabel{ad}{A}{D}
        \strdhomobjlabel{bc}{B}{C}
    }
    \strdgathered{
        \mymult
        \strdhomobjlabel{ac}{A}{C}
        \strdhomobjlabel{ab}{A}{B}
        \strdhomobjlabel{cd End}{C}{D}
    }
    =
    \strdgathered{
        \strdxflip{\mymult}
        \strdhomobjlabel{ac}{B}{D}
        \strdhomobjlabel{ab}{C}{D}
        \strdhomobjlabel{cd End}{A}{B}
    }
}

% unitality
\strdpreview{
    \newcommand{\myunital}{
        \strdline{\strdorigin}{ab}
        \strdleft{ab}{ab2}
        \strdyscale{0.5}{\strdline{ab2}{ab3}}
        \strdright{ab}{bb}
        \strdjunc{bb}{u}
        \strdhomobjlabel{ab}{A}{B}
    }
    \strdgathered{
        \myunital
        \strdhomobjlabel{bb}{B}{B}
        \strdhomobjlabel{ab2 End}{A}{B}
        \strdstartlabel{ab}{\mathcal{A}}
    }
    =
    \strdgathered{
        \strdyscale{2}{
            \strdline{\strdorigin}{ab}
            \strdhomobjlabel{ab}{A}{B}
            \strdstartlabel{ab}{\mathcal{A}}
        }
    }
    =
    \strdgathered{
        \strdxflip{\myunital}
        \strdhomobjlabel{bb}{A}{A}
        \strdhomobjlabel{ab2 End}{A}{B}
        \strdstartlabel{ab}{\mathcal{A}}
    }
}

% syntax
\strdpreview{
    \strdgathered{
        \strdline{\strdorigin}{a}
        \strdhomobjlabel{a}{A}{A'}
        \strdstartlabel{a}{\mathcal{A}}
    }
    \coloneqq 
    \strdgathered{
        \strdline{\strdorigin}{a}
        \strdstartlabel{a}{\mathcal{A}(A,A')}
    }
}

\strdpreview {
    \strdgathered {
        \strdline{\strdorigin}{ac}
        \strdjunc{ac}{m}
        \strdleft{m}{ab}
        \strdright{m}{bc}
        \strdstartlabel{ac}{\mathcal{A}}
        \strdhomobjlabel{ac}{A}{C}
        \strdhomobjlabel{ab}{A}{B}
        \strdhomobjlabel{bc}{B}{C}
    }
    \coloneqq
    \strdgathered { \strdxscale{1.2} {
        \strdline{\strdorigin}{ac}
        \strdleft{ac}{ab}
        \strdright{ac}{bc}
        \strdstartlabel{ac}{\mathcal{A}(A,C)}
        \strdendlabel{ab}{\mathcal{A}(A,B)}
        \strdendlabel{bc}{\mathcal{A}(B,C)}
        \strdcelllabel{ac End}{m}{M}
    } }
}

\strdpreview{
    \strdgathered{
        \strdline{\strdorigin}{aa}
        \strdjunc{aa}{u}
        \strdhomobjlabel{aa}{A}{A}
        \strdstartlabel{aa}{\mathcal{A}}
    }
    \coloneqq
    \strdgathered{
        \strdline{\strdorigin}{aa}
        \strdcelllabel{aa End}{u}{j}
        \strdstartlabel{aa}{\mathcal{A}(A,A)}
    }
}

% underlying category
\strdpreview {
    \begin{gathered}
        A \overset{f}{\to} B \overset{g}{\to} C
    \end{gathered}
    \coloneqq
    \strdgathered {
        \strdyscale{1}{ \strdline{\strdorigin}{ac} }
        \strdjunc{ac}{m}
        \strdleft{m}{ab}
        \strdright{m}{bc}
        \strdhomobjlabel{ab}{A}{B}
        \strdcelllabel{ab End}{f}{f}
        \strdhomobjlabel{bc}{B}{C}
        \strdcelllabel{bc End}{g}{g}
        \strdhomobjlabel{ac}{A}{C}
    }
}

\end{document}
