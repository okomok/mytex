\documentclass{article}
\usepackage{strd,cat,my,lambdax}
\usepackage[active,tightpage]{preview}

\begin{document}


\In{preview,math,aligned}{
    \myitem &
    \strdgathered{
        \strdmid,\strdrlabel{B},\strdstartlabel{\mathcal{K}l},
        \strdbranch{
            \strdmid,
            \strdmid,\strdrlabel{A}
        },
        \strdtubestart,\strdtubeedgesq,
        \strdtubemid,\strdtubecell{1}{k}
    } \ \mydefeq\
    \strdgathered{
        \strdmid,\strdrlabel{B},
        \strdidbox{1}{1}{
            \strdmid,\strdrlabel{TB},
            \strdcell{k},
            \strdmid,\strdrlabel{A}
        },
        \strdmid,\strdrlabel{A}
    } \\
    \myitem &
    \strdgathered{
        \strdmid,\strdrlabel{A}
    } \ \mydefeq\ 
    \strdgathered{
        \strdyhalf\strdmid,
        \strdbranch{
            \strdmid,\strdrlabelat{Mid}{A},
            \strdyhalf\strdmid
        },
        \strdtubestart,
        \strdtubeedgesq,
        \strdtubemid,
        \strdtubeedgecdot
    } \\
    \myitem &
    \strdgathered{
        \strdmid,\strdrlabel{C},
        \strdbranch{
            \strdmid
        },
        \strdtubestart,\strdtubeedgesq,
        \strdtubemid,\strdtubecell{1}{l},
        \strdmid,\strdrlabel{B},
        \strdbranch{
            \strdmid
        },
        \strdtubestart,\strdtubeedgesq,
        \strdtubemid,\strdtubecell{1}{k},
        \strdmid,\strdrlabel{A}
    } \ \mydefeq \
    \strdgathered{
        \strdmid,\strdrlabel{C},
        \strdbranch{
            \strdmid,
            \strdbranch{
                \strdmid
            },
            \strdtubestart,
            \strdtubeedgecirc,
            \strdtubemid,
            \strdtubecell{1}{l},
            \strdmid,\strdrlabel{B}
        },
        \strdtubestart,
        \strdtubeextend{1}{1},\strdtubeedgesq,
        \strdyscale{3}\strdtubemid,
        \strdtubecell{2}{k},
        \strdmid,\strdrlabel{A}
    }
}

% Kleisli adjunction
\In{preview,math,aligned}{
    \myitem &
    \strdgathered{
        \strdmid,\strdrlabel{B},
        \strdcell{f},
        \strdmid,\strdrlabel{A}
    } \ \mapsto \
    \strdgathered{
        \strdmid,\strdrlabel{B},
        \strdbranch{
            \strdmid,
            \strdcellat{Mid}{f},
            \strdmid,\strdrlabel{A}
        },
        \strdtubestart,
        \strdtubeedgesq,
        \strdtubemid,
        \strdtubeedgecdot
    } \\
}


\end{document}
