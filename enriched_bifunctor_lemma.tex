\documentclass{article}
\usepackage{strd,cat,my,amssymb,amsmath}

\begin{document}

\myinn{preview}{math}{
    \myassign{hereT}{\strdpicturein{gathered}{
        \strdroad{mid}{\strdorigin}{U} \strdroadlabel{U}{T^A B}{T_{B\myprime}A\myprime}
        \strdxscale{1.6}{
            \strdroad{left}{U}{L} \strdroadlabel{L}{T^A B}{T^A B\myprime}
            \strdroad{right}{U}{R} \strdroadlabel{R}{T_{B\myprime}A}{T_{B\myprime}A\myprime}
        }
        \strdroad{mid}{L}{BB'} \strdroadlabel{BB'}{B}{B\myprime} \strdroad{mid}{R}{AA'} \strdroadlabel{AA'}{A}{A\myprime}
        \strdcelllabel{L End}{T^A} \strdcelllabel{R End}{T_{B\myprime}}
        \strdstartlabel{U}{\mathcal{C}}
        \strdendlabel{BB'}{\mathcal{B}}
        \strdendlabel{AA'}{\mathcal{A}}
    } } =
    \strdpicturein{gathered}{
        \strdroad{mid}{\strdorigin}{U} \strdroadlabel{U}{T_B A}{T^{A\myprime}B\myprime}
        \strdxscale{1.6}{
            \strdroad{left}{U}{L} \strdroadlabel{L}{T_B A}{T_B A\myprime}
            \strdroad{right}{U}{R} \strdroadlabel{R}{T^{A\myprime}B}{T^{A\myprime}B\myprime}
            \strdroadx{unleft}{L}{AA'} \strdroadlabel{AA'}{A}{A\myprime}
            \strdroadx{right}{AA'}{AA'2} \strdroadlabel{AA'2}{A}{A\myprime}
            \strdroad{unright}{R}{BB'} \strdroadlabel{BB'}{B}{B\myprime}
            \strdroad{left}{BB'}{BB'2} \strdroadlabel{BB'2}{B}{B\myprime}
            \strdstartlabel{U}{\mathcal{C}}
            \strdendlabel{BB'2}{\mathcal{B}}
            \strdendlabel{AA'2}{\mathcal{A}}
            \strdcelllabel{L End}{T_B} \strdcelllabel{R End}{T^{A\myprime}}
        }
    } \myeqdef
    \strdpicturein{gathered}{
        \strdroad{mid}{\strdorigin}{U} \strdroadlabel{U}{T(A,B)}{T(A\myprime,B\myprime)}
        \strdroad{left}{U}{BB'} \strdroadlabel{BB'}{B}{B\myprime}
        \strdroad{right}{U}{AA'} \strdroadlabel{AA'}{A}{A\myprime}
        \strdstartlabel{U}{\mathcal{C}}
        \strdendlabel{BB'}{\mathcal{B}}
        \strdendlabel{AA'}{\mathcal{A}}
        \strdcelllabel{U End}{T}
    }
}


\myinn{preview}{math}{
    \strdpicturein{gathered}{
        \strdroad{mid}{\strdorigin}{U} \strdroadlabel{U}{T(A,B)}{T(A',B')}
        \strdroad{left}{U}{BB'} \strdroadlabel{BB'}{B}{B'}
        \strdroad{right}{U}{AA'} \strdroadlabel{AA'}{A}{A'}
        \strdstartlabel{U}{\mathcal{C}}
        \strdendlabel{BB'}{\mathcal{B}}
        \strdendlabel{AA'}{\mathcal{A}}
        \strdcelllabel{U End}{T}
    } \mydefeq
    \hereT
}


\end{document}
