\documentclass{article}
\usepackage{strd,cat,my}

\begin{document}

\myenvv{preview}{math}{
    \left(
    \strdenv{gathered}{
        \strdsidelabeled{mid}{\strdorigin}{A'}{A}
        \strdcelllabel{A'A}{f}
    },
    \strdenv{gathered}{
        \strdsidelabeled{mid}{\strdorigin}{B}{B'}
        \strdcelllabel{BB'}{g}
    }
}

\end{document}
