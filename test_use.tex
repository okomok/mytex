\documentclass{article}
\usepackage{strd,cat,my}
\usepackage[active,tightpage]{preview}


\begin{document}


\myin[preview,math,aligned]{
    & \text{then test} 
    \strdin[gathered]{
        \strdmid{\strdorigin}{u} \strdrightlabel{u}{r}
%        \strduse{mid}{u}{u2} \strdrightlabel{u2}{r2}
%        \strduse{\strdflip{mid}}{u2}{u3} \strdrightlabel{u3}{r3}
    } \\
}
\end{document}
